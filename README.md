# UrMusic

[Trello](https://trello.com/b/SViSLdYC/urmusic)


***

# Проспект

***

## Авторизация и регистрация

* авторизация - 2 варианта: логин (e-mail?) и пароль (в случае авторизации через сайт) и авторизация через VK ID (в случае авторизации через VK MiniApp)
* регистрация - 2 варианта: логин (e-mail?), имя, пароль, тип аккаунта - привязка ВКонтакте по желанию (при регистрации на сайте с типом "пользователь", иначе ВКонтакте не привязываается); логин (e-mail?), имя, пароль, автоматическая привязка ВКонтакте (при регистрации через VK MiniApp, автоматически ставится тип аккаунта "пользователь")

***

## Управление для владельца заведения
* только на сайте
* доступно только для типа аккаунта "владелец заведения"
### Функции
* изменение информации о заведении (название, перевод в режим подтверждения всех треков владельцем перед отправкой в очередь, etc)
* добавление филиалов заведения (новые адреса)
* управление доступной для выбора музыкой (жанры/треки)
* возможность установить мини-приложение в сообщество ВКонтакте с привязкой к конкретному заведению
* просмотр очереди треков, управление ей
* ссылка на страницу с аудиопотоком
* управление возможностями определённого пользователя (?)


*** 

## Управление для пользователя
* доступно и на сайте, и в мини-приложении (одно и то же?)
* доступно только для типа аккаунта "пользователь"
### Функции
* просмотр каталога заведений, подключенных к системе
* управление избранными заведениями
* просмотр информации о заведении
* просмотр очереди треков в любом заведении
* переход на страницу заведения также возможен по QR коду (для каждого заведения свой)
#### Добавление треков в очередь
##### Вариант 1: 
1. отметка "я здесь" в меню заведения (пока человек не убрал эту отметку, он не может предлагать треки в другие заведения)
2. добавление музыки в очередь заведения, если человек отметился (после отметки "я здесь" в одном, в других заведениях добавление треков в очередь невозможно)
3. отметка "я ушел" в меню заведения, доступна если ранее человек поставил отметку "я здесь" в меню этого заведения. Когда актвируется, из очереди удаляются все треки, предложенные данным пользователем
##### __Вариант 2:__
1. __Получение возможности добавлять треки в очередь заведения возможно только после сканирования QR кода в заведении__
2. __После сканирования QR кода другого заведения, все треки из очереди, добавленные пользователем, удаляются__
3. __При переходе на страницу заведения без сканирования QR кода управление очередью (кроме удаления своих треков из очереди?) невозможно.__
